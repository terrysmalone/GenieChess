<Window x:Class="Genie_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Genie_WPF"
        mc:Ignorable="d"
        Title="MainWindow" Height="1000" Width="900">
        <Window.DataContext>
            <local:ChessPiece />
            <!-- <local:BoardViewModel /> -->
        </Window.DataContext>

    <Window.Resources>
        <BitmapImage x:Key="BlackBishop" UriSource=""></BitmapImage>
        <BitmapImage x:Key="BlackRook" UriSource=""></BitmapImage>
        <BitmapImage x:Key="BlackQueen" UriSource=""></BitmapImage>
        <BitmapImage x:Key="BlackKing" UriSource=""></BitmapImage>

        <DrawingBrush x:Key="Checkerboard" Stretch="None" TileMode="Tile" Viewport="0,0,2,2" ViewportUnits="Absolute">
            <DrawingBrush.Drawing>
                <DrawingGroup>
                    <GeometryDrawing Brush="Tan">
                        <GeometryDrawing.Geometry>
                            <RectangleGeometry Rect="0,0,2,2" />
                        </GeometryDrawing.Geometry>
                    </GeometryDrawing>
                    <GeometryDrawing Brush="Brown">
                        <GeometryDrawing.Geometry>
                            <GeometryGroup>
                                <RectangleGeometry Rect="0,0,1,1" />
                                <RectangleGeometry Rect="1,1,1,1" />
                            </GeometryGroup>
                        </GeometryDrawing.Geometry>
                    </GeometryDrawing>
                </DrawingGroup>
            </DrawingBrush.Drawing>
        </DrawingBrush>

        <Style x:Key="ChessPieceStyle" TargetType="{x:Type Image}">
        <Style.Triggers>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Pawn}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.White}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/pawn_white.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Rook}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.White}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/rook_white.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Knight}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.White}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/knight_white.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Bishop}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.White}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/bishop_white.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Queen}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.White}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/queen_white.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.King}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.White}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/king_white.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Pawn}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.Black}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/pawn_black.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Rook}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.Black}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/rook_black.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Knight}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.Black}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/knight_black.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Bishop}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.Black}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/bishop_black.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.Queen}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.Black}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/queen_black.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding Type}" Value="{x:Static local:PieceType.King}"/>
                    <Condition Binding="{Binding Player}" Value="{x:Static local:Player.Black}"/>
                </MultiDataTrigger.Conditions>
                <MultiDataTrigger.Setters>
                    <Setter Property="Image.Source" Value="Images/king_black.png" />
                </MultiDataTrigger.Setters>
            </MultiDataTrigger>
        </Style.Triggers>
    </Style>

    </Window.Resources>



    <StackPanel>

        <Viewbox Stretch="Fill" Width="800" Height="800">
            <ItemsControl Name="Board">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Canvas Width="8" Height="8" Background="{StaticResource Checkerboard}"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Grid Width="1" Height="1">
                            <Image Width="0.8" Height="0.8" Style="{StaticResource ChessPieceStyle}" />
                        </Grid>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
                <ItemsControl.ItemContainerStyle>
                    <Style>
                        <Setter Property="Canvas.Left" Value="{Binding Pos.X}" />
                        <Setter Property="Canvas.Top" Value="{Binding Pos.Y}" />
                    </Style>
                </ItemsControl.ItemContainerStyle>
            </ItemsControl>
        </Viewbox>

        <UniformGrid Name="ChessBoard" Columns="8" Rows="8" Width="800" Height="800" Margin="10">

            <Border Background="Tan"><Image Name="A8" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="B8" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="C8" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="D8" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="E8" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="F8" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="G8" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="H8" Margin ="10"/></Border>

            <Border Background="Brown"><Image Name="A7" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="B7" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="C7" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="D7" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="E7" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="F7" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="G7" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="H7" Margin ="10"/></Border>

            <Border Background="Tan"><Image Name="A6" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="B6" Margin ="10" Source="{Binding B6, Mode=TwoWay, Converter={local:PieceConverter}}"/></Border>
            <Border Background="Tan"><Image Name="C6" Margin ="10" Source="{Binding C6, Mode=TwoWay, Converter={local:PieceConverter}}" /></Border>
            <!-- <Border Background="Tan" ><Image Name="C6" Margin ="10" Source="{Binding GridImage, Mode=TwoWay}"/></Border> -->
            <Border Background="Brown"><Image Name="D6" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="E6" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="F6" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="G6" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="H6" Margin ="10"/></Border>

            <Border Background="Brown"><Image Name="A5" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="B5" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="C5" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="D5" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="E5" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="F5" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="G5" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="H5" Margin ="10"/></Border>

            <Border Background="Tan"><Image Name="A4" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="B4" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="C4" Margin ="10" Source="{Binding GridImage}"/></Border>
            <Border Background="Brown"><Image Name="D4" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="E4" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="F4" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="G4" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="H4" Margin ="10"/></Border>

            <Border Background="Brown"><Image Name="A3" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="B3" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="C3" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="D3" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="E3" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="F3" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="G3" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="H3" Margin ="10"/></Border>

            <Border Background="Tan"><Image Name="A2" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="B2" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="C2" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="D2" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="E2" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="F2" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="G2" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="H2" Margin ="10"/></Border>

            <Border Background="Brown"><Image Name="A1" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="B1" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="C1" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="D1" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="E1" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="F1" Margin ="10"/></Border>
            <Border Background="Brown"><Image Name="G1" Margin ="10"/></Border>
            <Border Background="Tan"><Image Name="H1" Margin ="10"/></Border>
        </UniformGrid>

    </StackPanel>
 </Window>
